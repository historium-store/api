_id: spc_9a37e6cf8f364f3080009f48d0ef705a
type: ApiSpec
parentId: wrk_2d04f6cc2ff14faebcd58d5d79e1d566
modified: 1686216617226
created: 1686209818332
fileName: historium-api
contents: >-
  openapi: 3.0.3

  info:
    title: Historium API
    description: This is a documentation for an API of Historium Book Store
    version: 1.0.0
  servers:
   - url: http://localhost:3000
  tags:
    - name: user
  paths:
    /signup:
      post:
        tags:
          - user
        summary: Create user
        requestBody:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RequestUser'
        responses:
          '201':
            description: User was created successfuly
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/ResponseUser'
          '409':
            description: User already exists
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/Error'
                examples: 
                  phoneNumberExists:
                    summary: Phone number exists
                    value:
                      message: User with phone number '+380502239457' already exists
                  emailExists:
                    summary: Email exists
                    value:
                      message: User with email 'user@example.com' already exists
  components:
    schemas:
      RequestUser:
        type: object
        properties:
          firstName:
            type: string
            example: John
          lastName:
            type: string
            example: Williams
          phoneNumber:
            type: string
            example: '+380502239457'
          email:
            type: string
            format: email
          password:
            type: string
            example: '12345678'
      ResponseUser:
        type: object
        properties:
          _id:
            type: string
            example: 615e86d03e2c19825f5a2d8c
          firstName:
            type: string
            example: John
          lastName:
            type: string
            example: Williams
          phoneNumber:
            type: string
            example: '+380502239457'
          email:
            type: string
            format: email
          password:
            type: string
            example: bae3c1dc3bfe45719c89229a5eb68b3ed5a0e9c35d0e4b1f92a347fc06a9d3e7
          salt:
            type: string
            example: 4a7e34d5ab98c0f1e2d3b6a5c7f8e910
          role:
            type: string
            example: user
          reviews:
            type: array
            items:
              type: object
            default: []
          favorites:
            type: array
            items:
              type: object
            default: []
          createdAt:
            type: number
            format: int64
            example: 1686214665493
          updatedAt:
            type: number
            format: int64
            example: 1686214665493
          basket:
            type: string
            example: 60c156b936ee3545a84c14b3
      Error:
        type: object
        properties:
          message:
            type: string
    securitySchemes:
      JWTAuth:
        type: http
        scheme: bearer
        bearerFormat: JWT
contentType: yaml
